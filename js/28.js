import{_ as B}from"./component.e39fa446.js";import{c as E,q as $}from"./index.c6b826ff.js";import{k as x,i as A,c as O,d as P,e as S,a as C}from"./set-head.7f6a33ed.js";import{u as F}from"./index.69030827.js";import{_ as q,k as f,A as z,l as L,m as V,o as b,a as _,g as j,F as v,r as w,b as k,n as g,j as I,u as M,d as T,p as U}from"./entry.520837d9.js";import{i as W,a as H}from"./get-object.899f8c49.js";function N(e,t,n,s){for(var l=-1,r=e==null?0:e.length;++l<r;){var a=e[l];t(s,a,n(a),e)}return s}function R(e){return function(t,n,s){for(var l=-1,r=Object(t),a=s(t),i=a.length;i--;){var c=a[e?i:++l];if(n(r[c],c,r)===!1)break}return t}}var G=R();const J=G;function Y(e,t){return e&&J(e,t,x)}function D(e,t){return function(n,s){if(n==null)return n;if(!A(n))return e(n,s);for(var l=n.length,r=t?l:-1,a=Object(n);(t?r--:++r<l)&&s(a[r],r,a)!==!1;);return n}}var K=D(Y);const Q=K;function X(e,t,n,s){return Q(e,function(l,r,a){t(s,l,n(l),a)}),s}function Z(e,t){return function(n,s){var l=W(n)?N:X,r=t?t():{};return l(n,e,O(s),r)}}var ee=Object.prototype,te=ee.hasOwnProperty,ne=Z(function(e,t,n){te.call(e,n)?e[n].push(t):P(e,n,[t])});const ae=ne;function se(e,t){return e<t}function re(e,t,n){for(var s=-1,l=e.length;++s<l;){var r=e[s],a=t(r);if(a!=null&&(i===void 0?a===a&&!H(a):n(a,i)))var i=a,c=r}return c}function le(e){return e&&e.length?re(e,S,se):void 0}const oe="components-shared-thumbnails-publications--root--p0JlY",ue="components-shared-thumbnails-publications--list--VaU1W reset-list",ie="components-shared-thumbnails-publications--bar--6mcwt",ce="components-shared-thumbnails-publications--image--vFaU7",me={root:oe,list:ue,bar:ie,image:ce},fe={__name:"component",props:{thumbnails:Array},setup(e){const{width:t,height:n}=F(),s=f(null),l=f(null),r=f(null),a=f(null),i=()=>{var d,h;const m=(d=r.value)==null?void 0:d.map(o=>{var u,y;return{target:o,left:(u=o==null?void 0:o.getBoundingClientRect())==null?void 0:u.left,bottom:((y=o==null?void 0:o.getBoundingClientRect())==null?void 0:y.bottom)-l.value.getBoundingClientRect().top}}),p=ae(m,"bottom");a.value=(h=Object.values(p))==null?void 0:h.map(o=>le(o==null?void 0:o.map(u=>u==null?void 0:u.bottom)))};z([t,t],()=>{i()});const c=f(null);return L(()=>{setTimeout(()=>{s.value.toggleAttribute("data-loaded",!0)},250),c.value=setInterval(()=>{i()},100)}),V(()=>{clearInterval(c.value)}),(m,p)=>{const d=B,h=E,o=C;return b(),_("div",{class:g(m.$style.root),ref_key:"rootElement",ref:s},[j("ul",{class:g(m.$style.list),ref_key:"listElement",ref:l},[(b(!0),_(v,null,w(e.thumbnails,u=>(b(),_("li",{key:u.id,ref_for:!0,ref_key:"itemElement",ref:r},[k(d,{data:u,class:g(m.$style.image)},null,8,["data","class"])]))),128))],2),k(o,null,{default:I(()=>[(b(!0),_(v,null,w(M(a),u=>(b(),T(h,{key:u,class:g(m.$style.bar),style:U({"--bottom":u+"px"})},null,8,["class","style"]))),128))]),_:1})],2)}}},be={$style:me},we=q(fe,[["__cssModules",be]]),de={fields:["date_published","width_in_mm","thickness"],populate:{titles:!0,slugs:!0,cover_image:!0}},ke=e=>`publication-entries?${$.stringify({publicationState:(e==null?void 0:e.publicationState)||"live",sort:(e==null?void 0:e.sort)||["date_published:desc"],filters:(e==null?void 0:e.filters)||[],pagination:{page:(e==null?void 0:e.page)||1,pageSize:(e==null?void 0:e.pageSize)||9},...de},{encodeValuesOnly:!0})}`;export{we as _,ke as q};
//# sourceMappingURL=publication-entry-thumbnails.a69af62a.js.map