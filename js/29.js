import{f as at}from"./set-head.7f6a33ed.js";import{_ as it,c as p,k as V,o as b,d as W,j as nt,u as s,n as w,e as st,a as Z,F as ot,r as rt,p as q,H as mt,h as ct}from"./entry.520837d9.js";import{i as lt,b as ut}from"./index.c6b826ff.js";import{_ as dt}from"./link-with-fallback.a3a25f84.js";import{r as gt}from"./range.55c4f2de.js";import{t as J,a as _t}from"./_isIterateeCall.8cccf6cc.js";import{s as K,r as ft}from"./sample.3d60b990.js";var ht=Math.max,pt=Math.min;function vt(o,n,t){return o>=pt(n,t)&&o<ht(n,t)}function bt(o,n,t){return n=J(n),t===void 0?(t=n,n=0):t=J(t),o=_t(o),vt(o,n,t)}const wt="components-shared-thumbnail-publication--root--dLkS3 reset-link",yt="components-shared-thumbnail-publication--image--4nm3G",kt="components-shared-thumbnail-publication--shadow--2rmIZ",xt={root:wt,image:yt,shadow:kt},Rt={__name:"component",props:{data:Object,elementType:{type:[String,Object,Function],default:dt}},setup(o){const n=ct(),t=o,e=p(()=>lt(ut(t==null?void 0:t.data))),P=V((()=>{const a=K([!0,!1]);return ft(2,6)*(a?-1:1)})()),Q=V((()=>K(["bottom right","bottom left"]))()),U=p(()=>{var a,v,f,g,i,r,_,m,c,l,d,h;return t!=null&&t.ratio?(g=(f=(v=(a=e.value)==null?void 0:a.cover_image)==null?void 0:v.data)==null?void 0:f.attributes)==null?void 0:g.ratio:((m=(_=(r=(i=e.value)==null?void 0:i.cover_image)==null?void 0:r.data)==null?void 0:_.attributes)==null?void 0:m.width)/((h=(d=(l=(c=e.value)==null?void 0:c.cover_image)==null?void 0:l.data)==null?void 0:d.attributes)==null?void 0:h.height)||1}),X=p(()=>{var a;switch((a=e.value)==null?void 0:a.thickness){case"thin":return 4;case"thick":return 6;default:return 8}}),Y=p(()=>n.$getRouteBaseName()==="publications-slug"),tt=p(()=>{var m,c,l,d,h,y,k,x,R,D,M,$,z,B,C,S,A,F,I,N,O,j,G,L,T,E;let i=null;((d=(l=(c=(m=e.value)==null?void 0:m.cover_image)==null?void 0:c.data)==null?void 0:l.attributes)==null?void 0:d.width_in_mm)<110?i=110:((x=(k=(y=(h=e.value)==null?void 0:h.cover_image)==null?void 0:y.data)==null?void 0:k.attributes)==null?void 0:x.width_in_mm)>=110&&(($=(M=(D=(R=e.value)==null?void 0:R.cover_image)==null?void 0:D.data)==null?void 0:M.attributes)==null?void 0:$.width_in_mm)<=220?i=(S=(C=(B=(z=e.value)==null?void 0:z.cover_image)==null?void 0:B.data)==null?void 0:C.attributes)==null?void 0:S.width_in_mm:((N=(I=(F=(A=e.value)==null?void 0:A.cover_image)==null?void 0:F.data)==null?void 0:I.attributes)==null?void 0:N.width_in_mm)>110&&((L=(G=(j=(O=e.value)==null?void 0:O.cover_image)==null?void 0:j.data)==null?void 0:G.attributes)==null?void 0:L.width_in_mm)>220?i=220:i=165;const r=(T=gt(110,220,10))==null?void 0:T.map((u,zt)=>{const et=u<165,H=Math.abs(165-u)*.075;return{range:[u,u+10],diff:(et?H*-1:H)/100}});return 1+((E=r==null?void 0:r.find(u=>bt(i,...u==null?void 0:u.range)))==null?void 0:E.diff)});return(a,v)=>{const f=at;return b(),W(mt(o.elementType),{localizedData:s(e),name:"publications-slug",class:w(a.$style.root),style:q({"--deg":s(P)+"deg","--origin":s(Q),"--width--percentage":s(tt),"--aspect-ratio":s(U)}),"data-idle":s(Y)?"":null,"data-modal-link":""},{default:nt(()=>{var g,i,r,_,m,c,l;return[(r=(i=(g=s(e))==null?void 0:g.cover_image)==null?void 0:i.data)!=null&&r.attributes?(b(),W(f,{key:0,image:(c=(m=(_=s(e))==null?void 0:_.cover_image)==null?void 0:m.data)==null?void 0:c.attributes,class:w(a.$style.image),"data-thickness":((l=s(e))==null?void 0:l.thickness)||"default"},null,8,["image","class","data-thickness"])):st("",!0),(b(!0),Z(ot,null,rt(s(X),d=>(b(),Z("div",{class:w(a.$style.shadow),style:q({"--i":d})},null,6))),256))]}),_:1},8,["localizedData","class","style","data-idle"])}}},Dt={$style:xt},Ot=it(Rt,[["__cssModules",Dt]]);export{Ot as _};
//# sourceMappingURL=component.e39fa446.js.map